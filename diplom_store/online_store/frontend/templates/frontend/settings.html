{% extends "frontend/base.html" %}
{% load static %}
{% load i18n %}

{% block content %}
{% if user.is_authenticated %}
<div class="Middle Middle_top">
    <div class="Middle-top">
        <div class="wrap">
            <div class="Middle-header">
                <h1 class="Middle-title">{% trans 'Settings' %}
                </h1>
                <ul class="breadcrumbs Middle-breadcrumbs">
                    <li class="breadcrumbs-item"><a href="/">{% trans 'Home' %}</a>
                    </li>
                    <li class="breadcrumbs-item breadcrumbs-item_current"><span>{% trans 'Settings' %}</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="Section Section_column Section_columnLeft">
        <div class="wrap">
            <div class="Section-column">
                <div class="Section-columnSection">
                    {% include 'includes/profile-menu.html' %}
                </div>
            </div>
            <div class="Section-content">
                <div class="Profile">
                    <div class="row">
                        <div class="row-block">
                            <form action="" @submit.prevent="changeSettings">
                                <div class="form-group">
                                    <label class="form-label" for="page_size">{% trans 'Page size' %}</label>
                                    <input class="form-input" id="page_size" name="page_size" v-model="page_size" value="page_size" style="padding: 10px 0px 10px 25px;"/>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="express">{% trans 'Express shipping cost' %}</label>
                                    <input class="form-input" id="express" name="express" v-model="express" style="padding: 10px 0px 10px 25px;"/>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="standard">{% trans 'Standard shipping cost' %}</label>
                                    <input class="form-input" id="standard" name="standard" v-model="standard" style="padding: 10px 0px 10px 25px;"/>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="amount_free">{% trans 'Minimal amount free shipping' %}</label>
                                    <input class="form-input" id="amount_free" name="amount_free" v-model="amount_free" style="padding: 10px 0px 10px 25px;"/>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="payment_methods">{% trans 'Payment methods' %}</label>
                                    <select class="setting_select" id="payment_methods" name="payment_methods"
                                            v-model="payment_methods">
                                        <option class="setting_select" v-for="(value, key) in payment_methods_choices" :value="key">
                                            ${ value }$
                                        </option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label class="form-label" for="shipping_methods">{% trans 'Shipping methods' %}</label>
                                    <select class="setting_select" id="shipping_methods" name="shipping_methods"
                                            v-model="shipping_methods">
                                        <option class="setting_select" v-for="(value, key) in shipping_methods_choices" :value="key">
                                            ${ value }$
                                        </option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label class="form-label" for="order_status">Order status</label>
                                    <select class="setting_select" id="order_status" name="order_status"
                                            v-model="order_status">
                                        <option class="setting_select" v-for="(value, key) in order_status_choices" :value="key">
                                            ${ value }$
                                        </option>
                                    </select>
                                </div>

                                <div v-if="settingUpdated" class="success-message">
                                    Настройки успешно обновлены!
                                </div>

                                <div class="form-group">
                                    <button class="btn btn_success" type="submit">Сохранить</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% else %}
{% include 'includes/no-authorized.html' %}
{% endif %}
{% endblock %}

{% block mixins %}
<script src="{% static 'frontend/assets/js/settings.js' %}"></script>
{% endblock %}